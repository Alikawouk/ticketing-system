<div class="row mt-4">
  <!-- Employee List -->
  @if(!isNewView) {
  <div class="col-12">
    <div class="card shadow-sm">
      <div class="card-header bg-success text-white">
        <div class="d-flex justify-content-between align-items-center">
          <h5 class="mb-0">Employee List</h5>
          <button class="btn btn-warning btn-sm" (click)="isNewView = !isNewView">Add New</button>
        </div>
      </div>

      <div class="card-body">
        <table class="table table-bordered table-striped align-middle text-center">
          <thead class="table-success">
            <tr>
              <th>Sr No</th>
              <th>Employee Name</th>
              <th>Department</th>
              <th>Contact No</th>
              <th>Email</th>
              <th>Role</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            @for (item of gridData(); track $index) {
            <tr>
              <td>{{ $index + 1 }}</td>
              <td>{{ item.employeeName }}</td>
              <td>{{ item.deptName }}</td>
              <td>{{ item.contactNo }}</td>
              <td>{{ item.emailId }}</td>
              <td>{{ item.role }}</td>
              <td>
                <button class="btn btn-sm btn-primary me-2" (click)="onEdit(item)">Edit</button>
                <button class="btn btn-sm btn-danger" (click)="onDelete(item.employeeId)">
                  Delete
                </button>
              </td>
            </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
  </div>
  } @else {
  <!-- New Employee Form -->
  <div class="col-12">
    <div class="card shadow-sm">
      <div class="card-header bg-success text-white">
        <div class="d-flex justify-content-between align-items-center">
          <h5 class="mb-0">New Employee</h5>
          <button class="btn btn-warning btn-sm" (click)="isNewView = !isNewView">
            Go to Employee List
          </button>
        </div>
      </div>

      <div class="card-body">
        <form>
          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="employeeName" class="form-label">Employee Name</label>
              <input
                type="text"
                id="employeeName"
                class="form-control"
                name="employeeName"
                [(ngModel)]="newObj.employeeName"
              />
            </div>

            <div class="col-md-6 mb-3">
              <label for="contactNo" class="form-label">Contact No</label>
              <input
                type="text"
                id="contactNo"
                class="form-control"
                name="contactNo"
                [(ngModel)]="newObj.contactNo"
              />
            </div>
          </div>

          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="emailId" class="form-label">Email</label>
              <input
                type="email"
                id="emailId"
                class="form-control"
                name="emailId"
                [(ngModel)]="newObj.emailId"
              />
            </div>

            <div class="col-md-6 mb-3">
              <label for="deptId" class="form-label">Department</label>
              <select id="deptId" name="deptId" class="form-select" [(ngModel)]="newObj.deptId">
                <option value="">Select Department</option>
                @for (item of deptList(); track $index) {
                <option [value]="item.deptId">{{ item.deptName }}</option>
                }
              </select>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="role" class="form-label">Role</label>
              <select id="role" name="role" class="form-select" [(ngModel)]="newObj.role">
                <option value="">Select Role</option>
                @for (item of roleList(); track $index) {
                <option>{{ item }}</option>
                }
              </select>
            </div>

            <div class="col-md-6 mb-3">
              <label class="form-label d-block">Gender</label>
              <div class="form-check form-check-inline">
                <input
                  class="form-check-input"
                  type="radio"
                  id="male"
                  value="Male"
                  name="gender"
                  [(ngModel)]="newObj.gender"
                />
                <label class="form-check-label" for="male">Male</label>
              </div>
              <div class="form-check form-check-inline">
                <input
                  class="form-check-input"
                  type="radio"
                  id="female"
                  value="Female"
                  name="gender"
                  [(ngModel)]="newObj.gender"
                />
                <label class="form-check-label" for="female">Female</label>
              </div>
            </div>
          </div>

          <div class="mb-4">
            <label for="password" class="form-label">Password</label>
            <input
              type="password"
              id="password"
              class="form-control"
              name="password"
              [(ngModel)]="newObj.password"
            />
          </div>

          <div class="d-flex justify-content-end gap-2">
            <button type="reset" class="btn btn-secondary">Reset</button>
            @if(newObj.employeeId == 0) {
            <button type="submit" class="btn btn-success" (click)="save()">Save Employee</button>
            } @else {
            <button type="submit" class="btn btn-warning" (click)="update()">
              Update Employee
            </button>
            }
          </div>
        </form>
      </div>
    </div>
  </div>
  }
</div>
